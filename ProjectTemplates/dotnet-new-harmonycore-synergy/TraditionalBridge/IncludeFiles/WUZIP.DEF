external function
	wuzip			,i

record wuzip_work
	wz_count		,i4	,0	; Count of files in wuzip_ft
	wz_handle		,i4	,0	; Handle of wuzip_ft
	wz_max			,i4	,0	; Maximum memory allocated to wuzip_ft

structure wuzip_ft				; wuzip file table
	wz_file			,a132		; Full path of file to be added
	wz_delete		,d1		; Delete file during cleanup?

.ifndef WUZIP_INIT
.define WUZIP_INIT

.define ZIP_ADDFILE(file_to_add,err_msg1,err_msg2) ; Add file to the table of files for zip processing
&	%wuzip(wuzip_work,'AF',`err_msg1`,`err_msg2`,,`file_to_add`)

.define ZIP_CREATE(zip_file,err_msg1,err_msg2) ; Create a new zip file
&	%wuzip(wuzip_work,'CZ',`err_msg1`,`err_msg2`,`zip_file`)

.define ZIP_APPEND(zip_file,err_msg1,err_msg2) ; Append to an existing zip file
&	%wuzip(wuzip_work,'AZ',`err_msg1`,`err_msg2`,`zip_file`)

.define ZIP_CLEANUP(err_msg1,err_msg2) ; Clean up dynamic memory and temporary files
&	%wuzip(wuzip_work,'CU',`err_msg1`,`err_msg2`)

.endc
